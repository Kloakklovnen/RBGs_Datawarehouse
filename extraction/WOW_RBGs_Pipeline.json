{"$schema":"http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#","contentVersion":"1.0.0.0","parameters":{"factoryName":{"type":"string","metadata":"Data Factory name"},"Extract_Dump":{"type":"string"},"SportsDW":{"type":"string"}},"variables":{"factoryId":"[concat('Microsoft.DataFactory/factories/', parameters('factoryName'))]"},"resources":[{"name":"[concat(parameters('factoryName'), '/WOW_RBGs')]","type":"Microsoft.DataFactory/factories/pipelines","apiVersion":"2018-06-01","properties":{"activities":[{"name":"WOW_Storage_To_SQL","type":"Copy","dependsOn":[],"policy":{"timeout":"7.00:00:00","retry":0,"retryIntervalInSeconds":30,"secureOutput":false,"secureInput":false},"userProperties":[],"typeProperties":{"source":{"type":"DelimitedTextSource","storeSettings":{"type":"AzureBlobStorageReadSettings","recursive":true},"formatSettings":{"type":"DelimitedTextReadSettings","skipLineCount":0}},"sink":{"type":"AzureSqlSink","preCopyScript":"truncate table [wow].[Extract_Reflex]","disableMetricsCollection":false},"enableStaging":false,"translator":{"type":"TabularTranslator","mappings":[{"source":{"name":"Timestamp","type":"String"},"sink":{"name":"Timestamp","type":"String"}},{"source":{"name":"Map","type":"String"},"sink":{"name":"Map","type":"Int64"}},{"source":{"name":"Duration","type":"String"},"sink":{"name":"duration","type":"Int64"}},{"source":{"name":"Victory","type":"String"},"sink":{"name":"victory","type":"Boolean"}},{"source":{"name":"KillingBlows","type":"String"},"sink":{"name":"KillingBlows","type":"Int64"}},{"source":{"name":"HonorKills","type":"String"},"sink":{"name":"HonorKills","type":"Int64"}},{"source":{"name":"Deaths","type":"String"},"sink":{"name":"Deaths","type":"Int64"}},{"source":{"name":"Damage","type":"String"},"sink":{"name":"Damage","type":"Int64"}},{"source":{"name":"Healing","type":"String"},"sink":{"name":"Healing","type":"Int64"}},{"source":{"name":"Honor","type":"String"},"sink":{"name":"Honor","type":"Int64"}},{"source":{"name":"RatingChange","type":"String"},"sink":{"name":"RatingChange","type":"Int64"}},{"source":{"name":"MMR","type":"String"},"sink":{"name":"MMR","type":"Int64"}},{"source":{"name":"EnemyMMR","type":"String"},"sink":{"name":"EnemyMMR","type":"Int64"}},{"source":{"name":"Specialization","type":"String"},"sink":{"name":"specialization","type":"String"}},{"source":{"name":"isRated","type":"String"},"sink":{"name":"isRated","type":"String"}},{"source":{"name":"PrestigeLevel","type":"String"},"sink":{"name":"PrestigeLevel","type":"String"}},{"source":{"name":"isBrawl","type":"String"},"sink":{"name":"isBrawl","type":"Boolean"}},{"source":{"name":"isMercenary","type":"String"},"sink":{"name":"isMercenary","type":"Boolean"}}]}},"inputs":[{"referenceName":"WOW_CSV","type":"DatasetReference","parameters":{}}],"outputs":[{"referenceName":"WOW_SQL","type":"DatasetReference","parameters":{}}]}],"annotations":[]},"dependsOn":["[concat(variables('factoryId'), '/datasets/WOW_CSV')]","[concat(variables('factoryId'), '/datasets/WOW_SQL')]"]},{"name":"[concat(parameters('factoryName'), '/WOW_CSV')]","type":"Microsoft.DataFactory/factories/datasets","apiVersion":"2018-06-01","properties":{"linkedServiceName":{"referenceName":"[parameters('Extract_Dump')]","type":"LinkedServiceReference"},"folder":{"name":"WOW"},"annotations":[],"type":"DelimitedText","typeProperties":{"location":{"type":"AzureBlobStorageLocation","fileName":"rbgs.txt","container":"wow"},"columnDelimiter":";","escapeChar":"\\","firstRowAsHeader":true,"quoteChar":"\""},"schema":[{"type":"String"}]},"dependsOn":[]},{"name":"[concat(parameters('factoryName'), '/WOW_SQL')]","type":"Microsoft.DataFactory/factories/datasets","apiVersion":"2018-06-01","properties":{"linkedServiceName":{"referenceName":"[parameters('SportsDW')]","type":"LinkedServiceReference"},"folder":{"name":"WOW"},"annotations":[],"type":"AzureSqlTable","schema":[{"name":"Timestamp","type":"bigint","precision":19},{"name":"Map","type":"bigint","precision":19},{"name":"duration","type":"bigint","precision":19},{"name":"victory","type":"bit"},{"name":"KillingBlows","type":"bigint","precision":19},{"name":"HonorKills","type":"bigint","precision":19},{"name":"Deaths","type":"bigint","precision":19},{"name":"Damage","type":"bigint","precision":19},{"name":"Healing","type":"bigint","precision":19},{"name":"Honor","type":"bigint","precision":19},{"name":"RatingChange","type":"bigint","precision":19},{"name":"MMR","type":"bigint","precision":19},{"name":"EnemyMMR","type":"bigint","precision":19},{"name":"specialization","type":"nvarchar"},{"name":"isRated","type":"nvarchar"},{"name":"PrestigeLevel","type":"nvarchar"},{"name":"isBrawl","type":"bit"},{"name":"isMercenary","type":"bit"}],"typeProperties":{"schema":"wow","table":"Extract_Reflex"}},"dependsOn":[]}]}